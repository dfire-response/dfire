<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management - DFIRe Documentation</title>
    <meta name="description" content="Learn how to manage users, roles, and permissions in DFIRe.">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="docs.css">
    <link rel="icon" type="image/png" href="../assets/logo.png">
</head>
<body>
    <nav class="nav scrolled">
        <div class="nav-container">
            <a href="../" class="nav-logo">
                <img src="../assets/logo.png" alt="DFIRe" class="logo-img">
                <span class="logo-text">Documentation</span>
            </a>
            <div class="nav-links">
                <a href="../#features">Features</a>
                <a href="../#pricing">Pricing</a>
                <a href="../#installation">Installation</a>
                <a href="./" class="active">Docs</a>
                <a href="../#contact">Contact</a>
            </div>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <div class="docs-layout">
        <aside class="docs-sidebar">
            <div class="sidebar-section">
                <h3>Getting Started</h3>
                <ul>
                    <li><a href="getting-started.html">Quick Start Guide</a></li>
                    <li><a href="deployment.html">Deployment</a></li>
                    <li><a href="configuration.html">Configuration</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <h3>User Guide</h3>
                <ul>
                    <li><a href="cases.html">Case Management</a></li>
                    <li><a href="evidence.html">Evidence Tracking</a></li>
                    <li><a href="incidents.html">Incident Response</a></li>
                    <li><a href="reports.html">Reports</a></li>
                    <li><a href="timeline.html">Timeline</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <h3>Administration</h3>
                <ul>
                    <li><a href="users.html" class="active">User Management</a></li>
                    <li><a href="sso.html">Single Sign-On</a></li>
                    <li><a href="webhooks.html">Webhooks</a></li>
                    <li><a href="storage.html">Storage Backends</a></li>
                    <li><a href="backup.html">Backup & Recovery</a></li>
                    <li><a href="security.html">Application Security</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <h3>Reference</h3>
                <ul>
                    <li><a href="workflow.html">Workflow Configuration</a></li>
                    <li><a href="case-types.html">Case Types</a></li>
                    <li><a href="evidence-types.html">Evidence Types</a></li>
                    <li><a href="compliance.html">Compliance Timers</a></li>
                    <li><a href="licenses.html">Third-Party Licenses</a></li>
                </ul>
            </div>
        </aside>

        <main class="docs-content">
            <div class="docs-header">
                <h1>User Management</h1>
                <p class="docs-intro">Manage user accounts, assign roles, and control access to DFIRe.</p>
            </div>

            <div class="docs-section">
                <h2>Overview</h2>
                <p>User management in DFIRe is accessed via Settings &gt; User Accounts. The interface has two tabs:</p>
                <ul>
                    <li><strong>Users:</strong> Create, edit, and manage user accounts</li>
                    <li><strong>Role Editor:</strong> Configure permissions for each role</li>
                </ul>
                <p>For detailed information about the Role Editor and permission configuration, see <a href="security.html">Application Security</a>.</p>
            </div>

            <div class="docs-section">
                <h2>Access Control</h2>
                <p>DFIRe uses a two-tier access control system:</p>

                <h3>1. Role-Based Permissions</h3>
                <p>Each user is assigned a role that determines their system-wide capabilities:</p>
                <ul>
                    <li>Can the user create new cases?</li>
                    <li>Can the user access system settings?</li>
                    <li>Can the user view all cases regardless of assignment?</li>
                </ul>

                <h3>2. Case-Level Access</h3>
                <p>For each case, access is determined by team assignment:</p>
                <ul>
                    <li><strong>Lead Investigator:</strong> Full control of the case</li>
                    <li><strong>Investigator:</strong> Read/write access to case content</li>
                    <li><strong>Viewer:</strong> Read-only access</li>
                </ul>

                <div class="callout callout-info">
                    <p>A user must have <strong>both</strong> the role permission to perform an action <strong>and</strong> be assigned to the case (unless they have "View/Edit All Cases" permission).</p>
                </div>
            </div>

            <div class="docs-section">
                <h2>Creating Users</h2>

                <ol class="steps">
                    <li>
                        <strong>Navigate to Settings &gt; User Accounts</strong>
                        <p>You need administrator permissions to manage users.</p>
                    </li>
                    <li>
                        <strong>Click "Add User"</strong>
                    </li>
                    <li>
                        <strong>Fill in User Details</strong>
                        <ul>
                            <li><strong>First Name / Last Name:</strong> Display name</li>
                            <li><strong>Username:</strong> Unique identifier for login</li>
                            <li><strong>Email:</strong> Used for notifications</li>
                            <li><strong>Role:</strong> Select the user's role</li>
                            <li><strong>Password:</strong> Set the initial password</li>
                        </ul>
                    </li>
                    <li>
                        <strong>Configure Account Status</strong>
                        <p>The "Account Active" toggle determines whether the user can log in.</p>
                    </li>
                    <li>
                        <strong>Optional: Link Slack Account</strong>
                        <p>Enter the user's Slack User ID if you use Slack integration. Find this in Slack by clicking the user's profile &gt; More &gt; Copy member ID.</p>
                    </li>
                    <li>
                        <strong>Click "Save User"</strong>
                    </li>
                </ol>

                <div class="callout callout-info">
                    <p><strong>SSO Users:</strong> When SSO is configured, users are created automatically on first login. You may need to adjust their role after their first login.</p>
                </div>
            </div>

            <div class="docs-section">
                <h2>Preconfigured Roles</h2>
                <p>DFIRe includes these default roles:</p>

                <table class="requirements-table">
                    <thead>
                        <tr>
                            <th>Role</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>View Only</strong></td>
                            <td>Read-only access to cases they're assigned to</td>
                        </tr>
                        <tr>
                            <td><strong>Standard user</strong></td>
                            <td>Create and manage cases they're assigned to, add evidence and notes</td>
                        </tr>
                        <tr>
                            <td><strong>Team Lead</strong></td>
                            <td>Standard user permissions plus view/edit all cases and manage teams</td>
                        </tr>
                        <tr>
                            <td><strong>DFIRe Admin</strong></td>
                            <td>Full system access including user management, settings, and audit logs</td>
                        </tr>
                    </tbody>
                </table>

                <p>Administrators can modify these roles or create additional custom roles using the Role Editor. See <a href="security.html">Application Security</a> for details on the Role Editor.</p>
            </div>

            <div class="docs-section">
                <h2>Editing Users</h2>
                <p>Click the edit button next to any user to modify their account:</p>

                <ul>
                    <li><strong>Update profile information:</strong> Name, email, username</li>
                    <li><strong>Change role:</strong> Select a different role from the dropdown</li>
                    <li><strong>Reset password:</strong> Enter a new password (leave blank to keep current)</li>
                    <li><strong>Enable/disable account:</strong> Toggle the "Account Active" switch</li>
                    <li><strong>Update Slack ID:</strong> Link or unlink Slack integration</li>
                </ul>

                <h3>SSO Users</h3>
                <p>Users who authenticate via SSO are indicated with an SSO badge showing their identity provider. For SSO users:</p>
                <ul>
                    <li>Password fields are hidden (authentication is managed by the identity provider)</li>
                    <li>Profile information may be synced from the identity provider</li>
                    <li>You can still change their role and account status</li>
                </ul>
            </div>

            <div class="docs-section">
                <h2>Disabling Users</h2>
                <p>When a user should no longer have access:</p>

                <ol>
                    <li>Go to Settings &gt; User Accounts</li>
                    <li>Click the edit button for the user</li>
                    <li>Turn off "Account Active"</li>
                    <li>Click "Save User"</li>
                </ol>

                <p>Disabling a user:</p>
                <ul>
                    <li>Prevents them from logging in</li>
                    <li>Preserves their audit trail and case history</li>
                    <li>Shows a "Disabled" badge on the user list</li>
                    <li>Does not delete any data</li>
                </ul>

                <div class="callout callout-warning">
                    <p><strong>Recommendation:</strong> Disable users rather than deleting them. This preserves the audit trail and historical records.</p>
                </div>
            </div>

            <div class="docs-section">
                <h2>Force Logout</h2>
                <p>Administrators can immediately terminate all of a user's active sessions:</p>

                <ol>
                    <li>Go to Settings &gt; User Accounts</li>
                    <li>Click the edit button for the user</li>
                    <li>Click "Force Logout"</li>
                    <li>Confirm the action</li>
                </ol>

                <p>This is useful when:</p>
                <ul>
                    <li>A user's credentials may have been compromised</li>
                    <li>An employee is leaving and you need immediate access revocation</li>
                    <li>You've changed a user's role and want it to take effect immediately</li>
                </ul>

                <p>The user will need to log in again on all devices.</p>
            </div>

            <div class="docs-section">
                <h2>User List</h2>
                <p>The user list displays:</p>

                <ul>
                    <li><strong>Profile picture:</strong> From SSO provider or initials placeholder</li>
                    <li><strong>Name and username:</strong> With email address</li>
                    <li><strong>Status badges:</strong>
                        <ul>
                            <li><em>SSO badge</em> - Shows the identity provider (Google, Microsoft, etc.)</li>
                            <li><em>Disabled badge</em> - Account is deactivated</li>
                            <li><em>ROOT badge</em> - Superuser with full system access</li>
                        </ul>
                    </li>
                    <li><strong>Role:</strong> The user's assigned role</li>
                    <li><strong>Slack status:</strong> Whether their Slack account is linked</li>
                </ul>
            </div>

            <div class="docs-section">
                <h2>Password Policy</h2>
                <p>DFIRe enforces password requirements via Django's built-in validation:</p>
                <ul>
                    <li>Minimum 12 characters</li>
                    <li>Cannot be too similar to personal information</li>
                    <li>Cannot be a commonly used password</li>
                    <li>Cannot be entirely numeric</li>
                </ul>

                <h3>Password Reset</h3>
                <p>Users with local accounts (non-SSO) can reset their own password:</p>
                <ol>
                    <li>Click on profile menu in the top navigation</li>
                    <li>Select "Change Password"</li>
                    <li>Enter current password and new password</li>
                    <li>Click "Change Password" to save</li>
                </ol>
                <p>Administrators can also reset passwords for users via the User Accounts settings.</p>
            </div>

            <div class="docs-section">
                <h2>Superusers</h2>
                <p>Superusers (shown with a "ROOT" badge) have unrestricted access to the entire system, bypassing all permission checks. Superuser status:</p>

                <ul>
                    <li>Is set during initial installation or via command line</li>
                    <li>Cannot be granted or revoked through the web interface</li>
                    <li>Should be limited to system administrators only</li>
                </ul>

                <p>Non-superuser administrators cannot edit superuser accounts.</p>
            </div>

            <nav class="docs-nav">
                <a href="timeline.html" class="docs-nav-link prev">
                    <span class="docs-nav-label">Previous</span>
                    <span class="docs-nav-title">Timeline</span>
                </a>
                <a href="sso.html" class="docs-nav-link next">
                    <span class="docs-nav-label">Next</span>
                    <span class="docs-nav-title">Single Sign-On</span>
                </a>
            </nav>
        </main>
    </div>

    <footer class="docs-footer">
        <div class="container">
            <p>&copy; 2026 Tmi Antti Kurittu. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const navToggle = document.querySelector('.nav-toggle');
        const navLinks = document.querySelector('.nav-links');
        navToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            navToggle.classList.toggle('active');
        });
    </script>
</body>
</html>
